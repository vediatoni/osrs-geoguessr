var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<e.length-1;q++){var t=e[q];if(!(t in d))return;d=d[t]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(a){this.abruptCompletion_={"return":a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){var c=$jscomp.makeIterator(a),d=c.next();$jscomp.generator.ensureIteratorResultIsObject_(d);if(d.done)this.yieldResult=d.value,this.nextAddress=b;else return this.yieldAllIterator_=c,this.yield(d.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){var c=this.finallyContexts_.splice(b||0)[0];if(c=this.abruptCompletion_=this.abruptCompletion_||c){if(c.isException)return this.jumpToErrorHandler_();void 0!=c.jumpTo&&this.finallyAddress_<c.jumpTo?(this.nextAddress=c.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_["return"]);this.context_["return"](a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(q){return this.context_.yieldAllIterator_=null,this.context_.throw_(q),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this["throw"]=function(b){return a.throw_(b)};this["return"]=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){var c=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(c,a.prototype);return c};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function q(t){t.done?d(t.value):Promise.resolve(t.value).then(b,c).then(q,e)}q(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
window.SDK_OPTIONS={gameId:"npi3ikpxb313nbiozl22krnafvhe7wfv",onEvent:function(a){switch(a.name){case "SDK_READY":$.noConflict(!0)}}};(function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="https://api.gamemonetize.com/sdk.js",d.parentNode.insertBefore(a,d))})(document,"script","gamemonetize-sdk");
jQuery(document).ready(function(a){function b(m){var r,u,k,p,x,y,v,w;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){1==l.nextAddress&&(r=$jscomp.makeIterator(m.entries()),u=r.next());if(5!=l.nextAddress){if(u.done)return l.jumpTo(0);k=u.value;p=$jscomp.makeIterator(k);x=p.next().value;y=p.next().value;v=q;w=x;return l.yield(c(y),5)}v[w]=l.yieldResult;u=r.next();return l.jumpTo(2)})}function c(m){return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){return r["return"](new Promise(function(u,
k){var p=new Image;p.onload=function(){u(p)};p.onerror=k;p.src=m}))})}function d(){function m(h,g,f){g=f.unproject([0,g],f.getMaxZoom());h=f.unproject([h,0],f.getMaxZoom());return new L.LatLngBounds(g,h)}function r(){a("#image").fadeIn("fast",function(){p.map.invalidateSize()})}function u(){a("#map").fadeIn("fast",function(){k.map.invalidateSize()})}var k=function(h){var g=[8306,4850],f=L.map(h),n=new L.RasterCoords(f,g);f.on("click",function(z){w||(z=n.project(z.latlng),v=null==v?L.marker(n.unproject(z)).addTo(f):
v.setLatLng(n.unproject(z)));a("#confirmLocation").prop("disabled",!1)});f.setMaxZoom(n.zoomLevel());f.setView(n.unproject([g[0],g[1]]),2);f.setMaxBounds([2*g[0],2*g[1]]);L.tileLayer("images/tiles/{z}/{x}/{y}.png",{noWrap:!0}).addTo(f);return{map:f,rc:n}}("map"),p=function(h,g,f,n){n=L.map(n,{crs:L.CRS.Simple,minZoom:-1,maxZoom:2,zoomAnimation:!0});h=m(h,g,n);f=L.imageOverlay(f,h).addTo(n);n.setMaxBounds(h);n.fitBounds(h);return{map:n,overlay:f}}(q[0].width,q[0].height,q[0].src,"image"),x=null,y=
null,v=null,w=!1,l=null;e(!1);a("#maxRoundsSpan").text("1/"+t);a("#scoreProgessBar").attr("aria-valuemax",C);a("#roundProgressBar").attr("aria-valuemax",t);var E="calc(100vh - "+a("#map_container").outerHeight()+"px - "+a("nav").outerHeight()+"px)";a("#buttons").css({height:E});a("#map").hide();a("#viewImage").hide();a("#confirmLocation").hide();a("#next").hide();a("#end").hide();a("#endScreenFail").hide();a("#endScreenSuccess").hide();a("#confirmLocation").prop("disabled",!0);p.map.invalidateSize();
k.map.invalidateSize();a("#viewMap").on("click",function(){a("#image").fadeOut("fast",function(){u()});a("#viewMap").fadeOut("fast",function(){w||a("#confirmLocation").fadeIn("fast");a("#viewImage").fadeIn("fast")})});a("#viewImage").on("click",function(){a("#map").fadeOut("fast",function(){r()});a("#confirmLocation").fadeOut("fast");a("#viewImage").fadeOut("fast",function(){a("#viewMap").fadeIn("fast")})});a("#confirmLocation").on("click",function(){a("#confirmLocation").prop("disabled",!0);e(!0);
var h=k.rc.project(v.getLatLng());a.ajax({type:"post",url:"https://rslocator.com/game/confirm",data:{latlng:JSON.stringify({lat:Math.floor(h.x),lng:Math.floor(h.y)}),id:A,authCookie:B,gameType:"easy"},success:function(g,f,n){e(!1);f=k.rc.unproject([g.prevLocation.lat,g.prevLocation.lng]);w=!0;f=[f.lat,f.lng];n=k.rc.unproject(h);y=L.polyline([f,n]);x=L.circleMarkerScaling(f,{color:"red",fillColor:"#f03",fillOpacity:.5,radius:D});0==g.round%8&&"undefined"!==typeof sdk&&"undefined"!==sdk.showBanner&&
sdk.showBanner();k.map.addLayer(x);k.map.addLayer(y);k.map.setView(x.getLatLng());l=g;a("#confirmLocation").fadeOut("fast",function(){a("#"+(g.gameFinished?"end":"next")).prop("disabled",!1);a("#"+(g.gameFinished?"end":"next")).fadeIn("fast")})}})});a("#next").on("click",function(){var h,g;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){w&&null!=l&&(w=!1,a("#roundText").html('ROUND <span class="pl-2" style="color: #FFBD59;">'+l.round+"/10</span>"),a("#scoreText").html('SCORE <span class="pl-2" style="color: #FFBD59;">'+
l.score+"</span>"),a("#roundProgressBar").width(l.roundProgress+"%"),a("#scoreProgessBar").width(l.scoreProgess+"%"),h=q[l.round-1],g=m(h.width,h.height,p.map),p.overlay.setUrl(h.src),p.overlay.setBounds(g),p.map.setMaxBounds(g),p.map.fitBounds(g),x.removeFrom(k.map),y.removeFrom(k.map),v.removeFrom(k.map),v=null,a("#map").fadeOut("fast",function(){r()}),a("#next").fadeOut("fast"),a("#viewImage").fadeOut("fast",function(){a("#viewMap").fadeIn("fast")}),l=null);f.jumpToEnd()})});a("#end").on("click",
function(){w&&null!=l&&(a("#scoreText").html('SCORE <span class="pl-2" style="color: #FFBD59;">'+l.score+"</span>"),a("#modalScoreEnd").text(l.score),a("#confirmLocation").prop("disabled",!0),l=null);a("#endScreenFail").hide();a("#endScreenSuccess").hide();a("#endScreenModal").modal("show")});a("#addToLeaderBoards").on("click",function(){a("#endScreenFail").hide();a("#endScreenSuccess").hide();""==a("#endScreenName").val()?(a("#endScreenFail").text("Please enter a name..."),a("#endScreenFail").show()):
(e(!0),a.ajax({type:"post",url:"https://rslocator.com/game/end",data:{saveOnLeaderBoard:!0,name:a("#endScreenName").val(),id:A,authCookie:B,gameType:"easy"},success:function(h,g,f){e(!1);a("#endScreenSuccess").show();a("#endScreenSuccess").html('Score has been successfully added to the <a href="https://rslocator.com/scores">leaderboards</a>')},error:function(h,g,f){e(!1);a("#endScreenFail").show();a("#endScreenFail").text("Status: "+h.status+" \n Data: "+h.responseText)}}))});a("#close").on("click",
function(){window.top.location.href="https://rslocator.com/"})}function e(m){m?(a(".loader-wrapper").show(),a("#buttons").hide()):(a(".loader-wrapper").hide(),a("#buttons").show())}var q=[],t,C,D,A,B;a.ajax({type:"get",url:"https://rslocator.com/game/easy/get",success:function(m,r,u){return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return t=m.maxRounds,D=m.maxRadiusDistance,C=m.scoreProgressBarAMX,A=m.id,B=m.authCookie,k.yield(b(m.locations),2);d();k.jumpToEnd()})}});
L.CircleMarkerScaling=L.CircleMarker.extend({_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._radius=this.options.radius*this._map.getZoomScale(this._map.getZoom(),this._map.getMaxZoom());this._updateBounds()}});L.circleMarkerScaling=function(m,r){return new L.CircleMarkerScaling(m,r)}});window.addEventListener("resize",function(a){a="calc(100vh - "+$("#map_container").outerHeight()+"px - "+$("nav").outerHeight()+"px)";$("#buttons").css({height:a})});